@section Styles {
    <link href="@Url.Content("~/css/main.css")" rel="stylesheet" type="text/css" />
}

<script src="~/lib/jquery/dist/jquery.js" type="text/javascript"></script>
<script src="~/js/select-file.js"        type="text/javascript"></script>

<div id="akc-component">
    <div class="akc-row">
        <div class="col-1">
            <div style="width:100%; height:100%; font-weight: bold; font-size: 1.1em">
                Click "Browse File" button and
                navigate to the folder with your Kindle text file, click file and then "Open" to upload your file.
                If you need help locating your file, find more information <a href="#">here</a>
            </div>
        </div>
        <div class="col-2">
            <form>
                <label for="file-select" class="button" id="browseButton">Browse File</label>
                <input type="file" id="file-select" onchange='SelectFile()' />
            </form>
        </div>
    </div>

    <div class="akc-row">
        <div class="col-3" id="file-preview" style="overflow-y:scroll">
            @{
                //Added extension to avoid binding runtime error.
                //http://stackoverflow.com/questions/5120317/dynamic-anonymous-type-in-razor-causes-runtimebinderexception
                //TODO robustness checks can be added
                foreach (var item in Model) {
                    <div>@item.Value.parserClientContent.preview</div>
                }
            }
        </div>
    </div>
    <div class="akc-row">
        <div class="col-1">
            <span>
                Select the language of your Kindle device
                and click the "Start Parsing" button.
            </span>
            <span>
                <select class="dropdown" name="languages">
                    <option value="english">English</option>
                    <option value="spanish">Spanish</option>
                </select>
            </span>
        </div>
        <div class="col-2">
            <form>
                <button class="button" disabled id="startParsingButton"
                        asp-controller="Home" asp-action="Index"
                        asp-route-parsed="true">
                    Start Parsing
                </button>
            </form>
         </div>
    </div>
</div>